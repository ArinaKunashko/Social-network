"use strict";(self.webpackChunkreact01=self.webpackChunkreact01||[]).push([[407],{5301:function(t,e,s){s.r(e),s.d(e,{default:function(){return q}});var o=s(1413),n=s(5671),r=s(3144),i=s(136),a=s(7277),u=s(2791),l=s(6868),c={postsBlock:"MyPost_postsBlock__+9HRn",posts:"MyPost_posts__7wLUc",newPost:"MyPost_newPost__DeJDw",textarea:"MyPost_textarea__j3VZq",buttonAddPost:"MyPost_buttonAddPost__eYMkU",errorMessage:"MyPost_errorMessage__RuIaE"},d=s(885),h="Post_item__THAqG",p="Post_buttonLikes__d2KnD",f=s.p+"static/media/profilePhoto.6e48e0c5f1d5528794dc.jpeg",x=s(184),m=function(t){var e=(0,u.useState)(0),s=(0,d.Z)(e,2),o=s[0],n=s[1];return(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:h,children:[(0,x.jsx)("img",{src:f}),t.message,(0,x.jsxs)("button",{className:p,onClick:function(){n((function(t){return t+1}))},disabled:o>0,children:[" ",o," likes"]})]})})},v=s(5705),j=s(132),g=function(t){var e={};return t.newPostText||(e.newPostText="Write something"),e},P=j.Ry().shape({newPostText:j.Z_().min(1,"Must be longer than 2 characters").max(1e3,"Must be shorter than 10 characters").required("Write something")}),_=function(t){var e=t.posts.map((function(t){return(0,x.jsx)(m,{message:t.message,likesCount:t.likesCount})})),s=u.createRef();return(0,x.jsxs)("div",{className:c.postsBlock,children:[(0,x.jsx)("h3",{children:" My posts "}),(0,x.jsx)(v.J9,{initialValues:{newPostText:""},onSubmit:function(e,s){var o=s.resetForm;t.addPost(e.newPostText),o({newPostText:""})},validate:g,validationSchema:P,children:function(){return(0,x.jsx)(v.l0,{children:(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:(0,x.jsx)(v.gN,{placeholder:"Anything new?",name:"newPostText",type:"text",className:c.textarea,ref:s,values:t.newPostText})}),(0,x.jsx)("div",{children:(0,x.jsx)(v.Bc,{name:"newPostText",component:"span",className:c.errorMessage})}),(0,x.jsxs)("div",{children:[" ",(0,x.jsx)("button",{className:c.buttonAddPost,type:"submit",children:" Add post"})]})]})})}}),(0,x.jsx)("div",{className:c.newPost,children:"New post"}),(0,x.jsxs)("div",{className:c.posts,children:[e,(0,x.jsx)("div",{className:c.item})]})]})},b=s(8687),k=(0,b.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t((0,l.Wl)(e))}}}))(_),y=s(8859),N="ProfileInfo_profilePage__gHOFF",w="ProfileInfo_descriptionBlock__a-wYz",S="ProfileInfo_information__3kTd2",M="ProfileInfo_fullName__3qyWS",A="ProfileInfo_profileStatus__a-Udy",Z="ProfileInfo_button__JmST6",C=s(1340),T="ProfileStatus_statusSpan__+3Ulo",F=function(t){var e=(0,u.useState)(!1),s=(0,d.Z)(e,2),o=s[0],n=s[1],r=(0,u.useState)(t.status),i=(0,d.Z)(r,2),a=i[0],l=i[1];(0,u.useEffect)((function(){l(t.status)}),[t.status]);return(0,x.jsxs)("div",{children:[!o&&(0,x.jsx)("div",{children:(0,x.jsxs)("span",{className:T,onDoubleClick:function(){n(!0)},children:[" ",t.status||"My status"," "]})}),o&&(0,x.jsx)("div",{children:(0,x.jsx)("input",{className:T,placeholder:"Set status",autoFocus:!0,onBlur:function(){n(!1),t.updateStatus(a)},onChange:function(t){l(t.currentTarget.value)},value:a})})]})},I=s(4353),J={button:"ProfileDataForm_button__6rABp"},D=function(t){var e=t.profile,s=t.isOwner,o=t.onSubmit,n=t.gotoViewMode;return(0,x.jsx)("div",{children:(0,x.jsx)(v.J9,{initialValues:e,onSubmit:function(t){o(t)},children:function(t){var o=t.touched;return(0,x.jsxs)(v.l0,{children:[(0,x.jsxs)("div",{className:J.fullName,children:[" Your Name: ",e.fullName,(0,x.jsx)(v.gN,{name:"fullName",type:"text",placeholder:"Your Full Name"})]}),o.fullName,(0,x.jsxs)("div",{children:[" About Me: ",e.aboutMe,(0,x.jsx)(v.gN,{name:"aboutMe",type:"text",placeholder:"Tell us about yourself"})]}),o.aboutMe,(0,x.jsxs)("div",{children:["   Looking For A Job :",(0,x.jsx)(v.gN,{name:"lookingForAJob",type:"checkbox",placeholder:"Are you looking for a job?"})]}),o.lookingForAJob,(0,x.jsxs)("div",{children:["  My professional skills: ",e.lookingForAJobDescription,(0,x.jsx)(v.gN,{name:"lookingForAJobDescription",type:"text",placeholder:"Tell us about professional skills"})]}),o.lookingForAJobDescription,(0,x.jsxs)("div",{children:[" Contact GitHub: ",e.contacts.github,(0,x.jsx)(v.gN,{name:"contacts.github",type:"text",placeholder:"Write your contacts on GitHub "})]}),o.github,(0,x.jsxs)("div",{children:[" Contact Vk: ",e.contacts.vk,(0,x.jsx)(v.gN,{name:"contacts.vk",type:"text",placeholder:"Write your contacts on Vk "})]}),o.vk,(0,x.jsxs)("div",{children:[" Contact Twitter: ",e.contacts.twitter,(0,x.jsx)(v.gN,{name:"contacts.twitter",type:"text",placeholder:"Write your contacts on Twitter "})]}),o.twitter,(0,x.jsxs)("div",{children:[" Contact Instagram: ",e.contacts.instagram,(0,x.jsx)(v.gN,{name:"contacts.instagram",type:"text",placeholder:"Write your contacts on Instagram "})]}),o.instagram,s&&(0,x.jsxs)("div",{children:[" ",(0,x.jsx)("button",{className:J.button,type:"submit",children:" Save "}),(0,x.jsx)("button",{className:J.button,onClick:n,children:" Cancel "})]})]})}})})},U=function(t){var e=t.profile,s=(t.status,t.updateStatus,t.isOwner),o=t.gotoEditMode;t.lookingForAJobDescription;return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{children:[" About Me: ",e.aboutMe," "]}),(0,x.jsxs)("div",{children:[" Looking For A Job : ",e.lookingForAJob?"yes":"no"," "]}),e.lookingForAJob&&(0,x.jsxs)("div",{children:[" My professional skills: ",e.lookingForAJobDescription," "]}),(0,x.jsxs)("div",{children:[" My professional skills: ",e.lookingForAJobDescription," "]}),(0,x.jsxs)("div",{children:[" Contact GitHub: ",e.contacts.github," "]}),(0,x.jsxs)("div",{children:[" Contact Vk: ",e.contacts.vk," "]}),(0,x.jsxs)("div",{children:[" Contact Twitter: ",e.contacts.twitter," "]}),(0,x.jsxs)("div",{children:[" Contact Instagram: ",e.contacts.instagram," "]}),s&&(0,x.jsxs)("div",{children:[" ",(0,x.jsx)("button",{className:Z,onClick:o,children:" Edit "})," "]})]})},O=function(t){var e=t.profile,s=t.updateStatus,o=t.isOwner,n=t.savePhoto,r=t.saveProfile,i=t.status,a=(0,u.useState)(!1),l=(0,d.Z)(a,2),c=l[0],h=l[1];if(!e)return(0,x.jsx)(y.Z,{});return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:(0,x.jsx)("img",{src:"https://img2.akspic.ru/previews/0/1/1/6/4/146110/146110-rev-lev-koshachih-tigr-monohromnyj-x750.jpg",className:C.Z.header})}),(0,x.jsx)("div",{className:N,children:(0,x.jsxs)("div",{className:w,children:[(0,x.jsx)("img",{src:null!=e.photos.large?e.photos.large:I,className:C.Z.myPhoto}),o&&(0,x.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&n(t.target.files[0])}}),(0,x.jsx)("div",{}),(0,x.jsxs)("div",{className:S,children:[(0,x.jsxs)("div",{className:M,children:["  ",e.fullName," "]}),(0,x.jsxs)("div",{className:A,children:[(0,x.jsx)(F,{status:i,updateStatus:s})," "]})]}),c?(0,x.jsx)(D,{profile:e,isOwner:o,gotoViewMode:function(){h(!1)},updateStatus:s,onSubmit:function(t){r(t),h(!1)}}):(0,x.jsx)(U,{profile:e,isOwner:o,gotoEditMode:function(){h(!0)},updateStatus:s})]})})]})},V=function(t){return(0,x.jsxs)("div",{children:[(0,x.jsx)(O,{savePhoto:t.savePhoto,isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus,saveProfile:t.saveProfile}),(0,x.jsx)(k,{})]})},W=s(6871),B=s(8344),H=s(7781),R=function(t){(0,i.Z)(s,t);var e=(0,a.Z)(s);function s(){return(0,n.Z)(this,s),e.apply(this,arguments)}return(0,r.Z)(s,[{key:"refreshProfile",value:function(){var t=this.props.router.params.userId;t||(t=this.props.authorizedUserIdUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t){this.props.router.params.userId!=t.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,x.jsx)(V,(0,o.Z)((0,o.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),s}(u.Component);var q=(0,H.qC)((0,b.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserIdUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:l.et,getStatus:l.lR,updateStatus:l.Nf,savePhoto:l.Ju,saveProfile:l.Ii}),(function(t){return function(e){var s=(0,W.TH)(),n=(0,W.s0)(),r=(0,W.UO)();return(0,x.jsx)(t,(0,o.Z)((0,o.Z)({},e),{},{router:{location:s,navigate:n,params:r}}))}}),B.S)(R)},8344:function(t,e,s){s.d(e,{S:function(){return p}});var o=s(1413),n=s(5671),r=s(3144),i=s(136),a=s(7277),u=s(2791),l=s(6871),c=s(8687),d=s(184),h=function(t){return{isAuth:t.auth.isAuth}},p=function(t){var e=function(e){(0,i.Z)(u,e);var s=(0,a.Z)(u);function u(){return(0,n.Z)(this,u),s.apply(this,arguments)}return(0,r.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(t,(0,o.Z)({},this.props)):(0,d.jsx)(l.Fg,{to:"/login"})}}]),u}(u.Component);return(0,c.$j)(h)(e)}},1340:function(t,e){e.Z={userPhoto:"users_userPhoto__5NZl8",myPhoto:"users_myPhoto__eesl0",header:"users_header__6oDek",buttonFollow:"users_buttonFollow__+clTR"}},4353:function(t,e,s){t.exports=s.p+"static/media/user.6a850a95d27f5ba32921.png"}}]);
//# sourceMappingURL=407.aef2946f.chunk.js.map