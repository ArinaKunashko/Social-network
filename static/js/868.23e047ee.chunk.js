"use strict";(self.webpackChunkreact01=self.webpackChunkreact01||[]).push([[868],{2024:function(t,e,s){s.r(e),s.d(e,{default:function(){return G}});var o=s(1413),n=s(5671),i=s(3144),r=s(136),a=s(7277),u=s(2791),l=s(6868),c=s(885),d=s.p+"static/media/profilePhoto.6e48e0c5f1d5528794dc.jpeg",h=s(7205),p=s(5953),x=s(3978),f=s(184),v=function(t){var e=(0,u.useState)(0),s=(0,c.Z)(e,2),o=s[0],n=s[1];return(0,f.jsxs)(p.ZP,{container:!0,sx:{marginBottom:"20px"},children:[(0,f.jsxs)(p.ZP,{item:!0,xs:1,children:["  ",(0,f.jsx)(x.Z,{src:d})," "]}),(0,f.jsxs)(p.ZP,{item:!0,xs:10,children:[t.message," "]}),(0,f.jsx)(p.ZP,{item:!0,xs:1,children:(0,f.jsxs)(h.Z,{variant:"text",onClick:function(){n((function(t){return t+1}))},disabled:o>0,children:[" ",o," likes"]})})]})},j=s(5705),m=s(132),g=s(6015),b=s(8009),P=s(5629),k=m.Ry({newPostText:m.Z_("Enter your message").required("Message is required")}),w=function(t){var e=t.posts.map((function(t){return(0,f.jsx)(v,{message:t.message,likesCount:t.likesCount})})),s=(0,j.TA)({initialValues:{newPostText:""},validationSchema:k,onSubmit:function(e,s){var o=s.resetForm;t.addPost(e.newPostText),o({newPostText:""})}});return(0,f.jsx)("div",{children:(0,f.jsxs)(g.Z,{sx:{padding:"30px",flexGrow:1},children:[(0,f.jsx)("h3",{children:" My posts "}),(0,f.jsxs)(g.Z,{component:"form",noValidate:!0,onSubmit:s.handleSubmit,sx:{mt:1,mb:5},children:[(0,f.jsx)(b.Z,{margin:"normal",fullWidth:!0,id:"newPostText",label:"Anything new?",name:"newPostText",autoComplete:"newPostText",value:s.values.newPostText,onChange:s.handleChange,error:s.touched.newPostText&&Boolean(s.errors.newPostText),helperText:s.touched.newPostText&&s.errors.newPostText}),(0,f.jsx)(h.Z,{variant:"contained",type:"submit",children:"Add post"})]}),(0,f.jsx)(g.Z,{item:!0,xs:10,children:(0,f.jsxs)(P.Z,{children:[" ",e," "]})})]})})},Z=s(8687),y=(0,Z.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t((0,l.Wl)(e))}}}))(w),S=s(8859),N="ProfileInfo_profilePage__gHOFF",C="ProfileInfo_descriptionBlock__a-wYz",_="ProfileInfo_information__3kTd2",A="ProfileInfo_fullName__3qyWS",T="ProfileInfo_profileStatus__a-Udy",F="users_header__6oDek",I="ProfileStatus_statusSpan__+3Ulo",M=function(t){var e=(0,u.useState)(!1),s=(0,c.Z)(e,2),o=s[0],n=s[1],i=(0,u.useState)(t.status),r=(0,c.Z)(i,2),a=r[0],l=r[1];(0,u.useEffect)((function(){l(t.status)}),[t.status]);return(0,f.jsxs)("div",{children:[!o&&(0,f.jsx)("div",{children:(0,f.jsxs)("span",{className:I,onDoubleClick:function(){n(!0)},children:[" ",t.status||"My status"," "]})}),o&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{className:I,placeholder:"Set status",autoFocus:!0,onBlur:function(){n(!1),t.updateStatus(a)},onChange:function(t){l(t.currentTarget.value)},value:a})})]})},J={button:"ProfileDataForm_button__6rABp"},D=function(t){var e=t.profile,s=t.isOwner,o=t.onSubmit,n=t.gotoViewMode;return(0,f.jsx)("div",{children:(0,f.jsx)(j.J9,{initialValues:e,onSubmit:function(t){o(t)},children:function(t){var o=t.touched;return(0,f.jsxs)(j.l0,{children:[(0,f.jsxs)("div",{className:J.fullName,children:[" Your Name: ",e.fullName,(0,f.jsx)(j.gN,{name:"fullName",type:"text",placeholder:"Your Full Name"})]}),o.fullName,(0,f.jsxs)("div",{children:[" About Me: ",e.aboutMe,(0,f.jsx)(j.gN,{name:"aboutMe",type:"text",placeholder:"Tell us about yourself"})]}),o.aboutMe,(0,f.jsxs)("div",{children:["   Looking For A Job :",(0,f.jsx)(j.gN,{name:"lookingForAJob",type:"checkbox",placeholder:"Are you looking for a job?"})]}),o.lookingForAJob,(0,f.jsxs)("div",{children:["  My professional skills: ",e.lookingForAJobDescription,(0,f.jsx)(j.gN,{name:"lookingForAJobDescription",type:"text",placeholder:"Tell us about professional skills"})]}),o.lookingForAJobDescription,(0,f.jsxs)("div",{children:[" Contact GitHub: ",e.contacts.github,(0,f.jsx)(j.gN,{name:"contacts.github",type:"text",placeholder:"Write your contacts on GitHub "})]}),o.github,(0,f.jsxs)("div",{children:[" Contact Vk: ",e.contacts.vk,(0,f.jsx)(j.gN,{name:"contacts.vk",type:"text",placeholder:"Write your contacts on Vk "})]}),o.vk,(0,f.jsxs)("div",{children:[" Contact Twitter: ",e.contacts.twitter,(0,f.jsx)(j.gN,{name:"contacts.twitter",type:"text",placeholder:"Write your contacts on Twitter "})]}),o.twitter,(0,f.jsxs)("div",{children:[" Contact Instagram: ",e.contacts.instagram,(0,f.jsx)(j.gN,{name:"contacts.instagram",type:"text",placeholder:"Write your contacts on Instagram "})]}),o.instagram,s&&(0,f.jsxs)("div",{children:[" ",(0,f.jsx)("button",{className:J.button,type:"submit",children:" Save "}),(0,f.jsx)("button",{className:J.button,onClick:n,children:" Cancel "})]})]})}})})},U=s(501),O=s(5419),V=function(t){var e=t.profile,s=(t.status,t.updateStatus,t.isOwner),o=t.gotoEditMode;t.lookingForAJobDescription;return(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{children:[" About Me: ",e.aboutMe," "]}),(0,f.jsxs)("div",{children:[" Looking For A Job : ",e.lookingForAJob?"yes":"no"," "]}),e.lookingForAJob&&(0,f.jsxs)("div",{children:[" My professional skills: ",e.lookingForAJobDescription," "]}),(0,f.jsxs)("div",{children:[" My professional skills: ",e.lookingForAJobDescription," "]}),(0,f.jsxs)("div",{children:[" Contact GitHub: ",e.contacts.github," "]}),(0,f.jsxs)("div",{children:[" Contact Vk: ",e.contacts.vk," "]}),(0,f.jsxs)("div",{children:[" Contact Twitter: ",e.contacts.twitter," "]}),(0,f.jsxs)("div",{children:[" Contact Instagram: ",e.contacts.instagram," "]}),s&&(0,f.jsxs)("div",{children:[" ",(0,f.jsx)(h.Z,{variant:"contained",onClick:o,children:" Edit "})," "]})]})},W=function(t){var e=t.profile,s=t.updateStatus,o=t.isOwner,n=t.savePhoto,i=t.saveProfile,r=t.status,a=(0,u.useState)(!1),l=(0,c.Z)(a,2),d=l[0],p=l[1];if(!e)return(0,f.jsx)(S.Z,{});return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{children:(0,f.jsx)("img",{src:"https://img2.akspic.ru/previews/0/1/1/6/4/146110/146110-rev-lev-koshachih-tigr-monohromnyj-x750.jpg",className:F})}),(0,f.jsx)("div",{className:N,children:(0,f.jsxs)("div",{className:C,children:[null!=e.photos.large?(0,f.jsx)(x.Z,{src:e.photos.large,sx:{width:200,height:200}}):(0,f.jsx)(x.Z,{sx:{bgcolor:O.Z[100],color:O.Z[600],width:200,height:200},children:(0,f.jsx)(U.Z,{sx:{width:200,height:200}})}),o&&(0,f.jsxs)(h.Z,{variant:"contained",component:"label",children:["Upload",(0,f.jsx)("input",{hidden:!0,accept:"image/*",type:"file",onChange:function(t){t.target.files.length&&n(t.target.files[0])}})]}),(0,f.jsx)("div",{}),(0,f.jsxs)("div",{className:_,children:[(0,f.jsxs)("div",{className:A,children:["  ",e.fullName," "]}),(0,f.jsxs)("div",{className:T,children:[(0,f.jsx)(M,{status:r,updateStatus:s})," "]})]}),d?(0,f.jsx)(D,{profile:e,isOwner:o,gotoViewMode:function(){p(!1)},updateStatus:s,onSubmit:function(t){i(t),p(!1)}}):(0,f.jsx)(V,{profile:e,isOwner:o,gotoEditMode:function(){p(!0)},updateStatus:s})]})})]})},z=function(t){return(0,f.jsxs)("div",{children:[(0,f.jsx)(W,{savePhoto:t.savePhoto,isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus,saveProfile:t.saveProfile}),(0,f.jsx)(y,{})]})},B=s(6871),E=s(8344),H=s(7781),q=function(t){(0,r.Z)(s,t);var e=(0,a.Z)(s);function s(){return(0,n.Z)(this,s),e.apply(this,arguments)}return(0,i.Z)(s,[{key:"refreshProfile",value:function(){var t=this.props.router.params.userId;t||(t=this.props.authorizedUserIdUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t){this.props.router.params.userId!=t.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,f.jsx)(z,(0,o.Z)((0,o.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),s}(u.Component);var G=(0,H.qC)((0,Z.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserIdUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:l.et,getStatus:l.lR,updateStatus:l.Nf,savePhoto:l.Ju,saveProfile:l.Ii}),(function(t){return function(e){var s=(0,B.TH)(),n=(0,B.s0)(),i=(0,B.UO)();return(0,f.jsx)(t,(0,o.Z)((0,o.Z)({},e),{},{router:{location:s,navigate:n,params:i}}))}}),E.S)(q)},8344:function(t,e,s){s.d(e,{S:function(){return p}});var o=s(1413),n=s(5671),i=s(3144),r=s(136),a=s(7277),u=s(2791),l=s(6871),c=s(8687),d=s(184),h=function(t){return{isAuth:t.auth.isAuth}},p=function(t){var e=function(e){(0,r.Z)(u,e);var s=(0,a.Z)(u);function u(){return(0,n.Z)(this,u),s.apply(this,arguments)}return(0,i.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(t,(0,o.Z)({},this.props)):(0,d.jsx)(l.Fg,{to:"/login"})}}]),u}(u.Component);return(0,c.$j)(h)(e)}},501:function(t,e,s){var o=s(4836);e.Z=void 0;var n=o(s(5649)),i=s(184),r=(0,n.default)((0,i.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");e.Z=r}}]);
//# sourceMappingURL=868.23e047ee.chunk.js.map